<!doctype html><html class=position-relative itemscope itemtype=https://schema.org/WebPage lang=es data-bs-theme=auto data-palette=green><head><script src=/assets/init/bundle.min.f4a560c330f6fde28320fabd52fa58b8aecc2055cf50be510c2cc176a1704c2d.js integrity="sha256-9KVgwzD2/eKDIPq9UvpYuK7MIFXPUL5RDCzBdqFwTC0=" crossorigin=anonymous></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>RAII - Bytewise</title><link rel=icon href=/favicon_huecc81fa668551493fac8cec478e9b6b3_595648_16x16_resize_q75_h2_box_2.webp sizes=16x16 type=image/webp><link rel=icon href=/favicon_huecc81fa668551493fac8cec478e9b6b3_595648_32x32_resize_q75_h2_box_2.webp sizes=32x32 type=image/webp><link rel=icon href=/favicon_huecc81fa668551493fac8cec478e9b6b3_595648_150x150_resize_q75_h2_box_2.webp sizes=150x150 type=image/webp><link rel=apple-touch-icon href=/favicon_huecc81fa668551493fac8cec478e9b6b3_595648_180x180_resize_q75_h2_box_2.webp sizes=180x180 type=image/webp><link rel=icon href=/favicon_huecc81fa668551493fac8cec478e9b6b3_595648_192x192_resize_q75_h2_box_2.webp sizes=192x192 type=image/webp><link rel=mask-icon href=/safari-pinned-tab.svg color=#6f42c1><meta name=keywords content="Hugo,Bootstrap,TODO"><meta name=description content="RAII del inglés &#34;Resource Acquisition Is Initialization&#34; es una técnica de C++ para manejar el ciclo de vida de recursos típicamente limitados (memoria en el heap, descriptores de archivos, hilos de ejecución, etc).
Dicha técnica consiste en reservar el recurso durante el constructor del objeto, y su liberación en el destructor. Por ejemplo, imaginemos que se desea modelar una memoria Flash de tamaño variable, para ello, una posibilidad sería la de reservar memoria del heap en su construcción, para liberarla durante su destrucción:"><meta name=robots content="index, follow"><meta name=twitter:card content="summary"><meta name=twitter:title content="RAII"><meta name=twitter:description content="RAII del inglés &#34;Resource Acquisition Is Initialization&#34; es una técnica de C++ para manejar el ciclo de vida de recursos típicamente limitados (memoria en el heap, descriptores de archivos, hilos de ejecución, etc).
Dicha técnica consiste en reservar el recurso durante el constructor del objeto, y su liberación en el destructor. Por ejemplo, imaginemos que se desea modelar una memoria Flash de tamaño variable, para ello, una posibilidad sería la de reservar memoria del heap en su construcción, para liberarla durante su destrucción:"><meta property="og:title" content="RAII"><meta property="og:description" content="RAII del inglés &#34;Resource Acquisition Is Initialization&#34; es una técnica de C++ para manejar el ciclo de vida de recursos típicamente limitados (memoria en el heap, descriptores de archivos, hilos de ejecución, etc).
Dicha técnica consiste en reservar el recurso durante el constructor del objeto, y su liberación en el destructor. Por ejemplo, imaginemos que se desea modelar una memoria Flash de tamaño variable, para ello, una posibilidad sería la de reservar memoria del heap en su construcción, para liberarla durante su destrucción:"><meta property="og:type" content="article"><meta property="og:url" content="https://nicolasiriarte.github.io/es/docs/cpp/raii/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-08-26T20:41:40-03:00"><meta property="og:see_also" content="https://nicolasiriarte.github.io/es/docs/cpp/constructors/"><meta itemprop=name content="RAII"><meta itemprop=description content="RAII del inglés &#34;Resource Acquisition Is Initialization&#34; es una técnica de C++ para manejar el ciclo de vida de recursos típicamente limitados (memoria en el heap, descriptores de archivos, hilos de ejecución, etc).
Dicha técnica consiste en reservar el recurso durante el constructor del objeto, y su liberación en el destructor. Por ejemplo, imaginemos que se desea modelar una memoria Flash de tamaño variable, para ello, una posibilidad sería la de reservar memoria del heap en su construcción, para liberarla durante su destrucción:"><meta itemprop=dateModified content="2023-08-26T20:41:40-03:00"><meta itemprop=wordCount content="383"><meta itemprop=keywords content="C++,Computer science,Easy,Basic knowledge,"><link rel=manifest href=/es/manifest.json><link rel=alternate hreflang=en href=/docs/cpp/raii/><script async src="https://www.googletagmanager.com/gtag/js?id=G-1GLY4DDSWJ"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-1GLY4DDSWJ",{anonymize_ip:!1})}</script><link data-precache rel=stylesheet href="/assets/main/bundle.min.079b4a4c17c39eeec6e112e22ab2db76dae4b1943e952096386b941b0bb97410.css" integrity="sha256-B5tKTBfDnu7G4RLiKrLbdtrksZQ+lSCWOGuUGwu5dBA=" crossorigin=anonymous><link data-precache rel=stylesheet href=/assets/viewer/bundle.min.eb914844636cd41f221f109e99c887bbc3b6b5ffb2af7c664b284cea2d1b54b7.css integrity="sha256-65FIRGNs1B8iHxCemciHu8O2tf+yr3xmSyhM6i0bVLc=" crossorigin=anonymous></head><body><header class="mb-4 sticky-top"><nav class="top-app-bar shadow navbar navbar-expand-xxl"><div class=container><button class="navbar-toggler border-0" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDocsNav aria-expanded=false aria-label="Toggle docs navigation">
<i class="fas fa-bars"></i></button>
<a class="navbar-brand d-flex align-items-center flex-grow-1 flex-xxl-grow-0 justify-content-xxl-start justify-content-center ms-2 ms-xxl-0 mx-auto me-xxl-2" href=https://nicolasiriarte.github.io/es/>Bytewise</a><div class="offcanvas-xxl offcanvas-end flex-grow-1" data-bs-scroll=true tabindex=-1 id=navbarMenus aria-labelledby=navbarMenusLabel><div class="offcanvas-header px-4 pb-0"><div class="offcanvas-title h5" id=navbarMenusLabel>Bytewise</div><button type=button class="btn-close btn-close-white" data-bs-dismiss=offcanvas data-bs-target=#navbarMenus aria-label=Close></button></div><div class="offcanvas-body p-4 pt-0 p-xxl-0"><hr class=d-xxl-none><ul class="navbar-nav flex-row flex-wrap align-items-center me-auto"><li class="nav-item col-6 col-xxl-auto"><a class="nav-link py-2 px-0 px-xxl-2" href=https://nicolasiriarte.github.io/es/news/><span class="menu-icon me-1"><i class="fas fa-fw fa-newspaper"></i></span>Noticias</a></li><li class="nav-item col-6 col-xxl-auto"><a class="nav-link py-2 px-0 px-xxl-2" href=https://nicolasiriarte.github.io/es/docs/><span class="menu-icon me-1"><i class="fas fa-fw fa-file"></i></span>Blog</a></li><li class="nav-item col-12 col-xxl-auto dropdown px-0"><a href=# class="nav-link dropdown-toggle" id=navbarDropdownReferences role=button data-bs-toggle=dropdown aria-expanded=false><span class="menu-icon me-1"><i class="fas fa-fw fa-pen"></i></span>Referencias</a><ul class="dropdown-menu dropdown-menu-end" aria-labelledby=navbarDropdownReferences data-bs-popper=none><li><h6 class=dropdown-header>Agrupación de posts</h6></li><li><a class="dropdown-item d-flex align-items-center text-wrap text-xxl-nowrap" href=https://nicolasiriarte.github.io/es/archives/><span class="dropdown-item-icon me-2 p-2 rounded"><i class="fas fa-fw fa-file-archive text-primary"></i></span><div class=dropdown-item-content><p class="dropdown-item-title mb-0">Archivos</p></div></a></li><li><a class="dropdown-item d-flex align-items-center text-wrap text-xxl-nowrap" href=https://nicolasiriarte.github.io/es/series/><span class="dropdown-item-icon me-2 p-2 rounded"><i class="fas fa-fw fa-columns"></i></span><div class=dropdown-item-content><p class="dropdown-item-title mb-1">Series</p><p class="dropdown-item-description mb-0 text-secondary">Lista de series.</p></div></a></li><li><a class="dropdown-item d-flex align-items-center text-wrap text-xxl-nowrap" href=https://nicolasiriarte.github.io/es/categories/><span class="dropdown-item-icon me-2 p-2 rounded"><i class="fas fa-fw fa-folder text-success"></i></span><div class=dropdown-item-content><p class="dropdown-item-title mb-1">Categorías</p><p class="dropdown-item-description mb-0 text-secondary">Lista de categorías.</p></div></a></li><li><a class="dropdown-item d-flex align-items-center text-wrap text-xxl-nowrap" href=https://nicolasiriarte.github.io/es/tags/><span class="dropdown-item-icon me-2 p-2 rounded"><i class="fas fa-fw fa-tags"></i></span><div class=dropdown-item-content><p class="dropdown-item-title mb-1">Etiquetas</p><p class="dropdown-item-description mb-0 text-secondary">Lista de etiquetas.</p></div></a></li></ul></li></ul><hr class=d-xxl-none><form class="search-bar ms-auto" action=/es/search/ novalidate><div class="input-group input-group-sm align-items-center"><span class="btn btn-search disabled position-absolute left-0 border-0 px-1"><i class="fas fa-fw fa-search fa-lg"></i></span>
<input class="my-1 form-control border-white rounded-5 search-input bg-body" name=q type=search placeholder=Buscar aria-label=Search required>
<span class="search-shortcut position-absolute end-0 top-0 me-2"><kbd class="bg-primary rounded shadow">/</kbd></span></div></form><hr class=d-xxl-none><ul class="navbar-nav flex-row flex-wrap align-items-center ms-md-auto"><li class="nav-item py-2 py-xxl-1 col-12 col-xxl-auto"><nav class="social-links nav justify-content-center flex-row"><a class="nav-link social-link col-6 col-xxl-auto p-1" target=_blank href=https://github.com/NicolasIriarte title=GitHub rel=me><i class="fa-fw fab fa-github"></i>
<span class="ms-1 d-xxl-none">Github</span></a>
<a class="nav-link social-link col-6 col-xxl-auto p-1" target=_blank href=https://www.paypal.com/paypalme/NicolasIriarte95 title=PayPal rel=me><i class="fa-fw fab fa-paypal"></i>
<span class="ms-1 d-xxl-none">Paypal</span></a>
<a class="nav-link social-link col-6 col-xxl-auto p-1" target=_blank href=/es/index.xml title=RSS rel=me><i class="fas fa-fw fa-rss"></i>
<span class="ms-1 d-xxl-none">RSS</span></a></nav></li><li class="nav-item py-2 py-xxl-1 col-12 col-xxl-auto"><div class="vr d-none d-xxl-flex h-100 mx-xxl-2 text-white"></div><hr class="d-xxl-none my-2"></li><li class="nav-item dropdown py-1 py-xxl-1 col-6 col-xxl-auto"><a class="nav-link px-0 px-xxl-1" href=# id=languageDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="fas fa-fw fa-globe"></i>
<span class=d-xxl-none>Lenguaje</span></a><ul class="language-dropdown-menu dropdown-menu dropdown-menu-end" aria-labelledby=languageDropdown><li><a class=dropdown-item href=/>English</a></li><li><a class="dropdown-item active" href=/es/>Español</a></li></ul></li><li class="nav-item py-1 col-12 col-xxl-auto"><div class="vr d-none d-xxl-flex h-100 mx-xxl-2 text-white"></div><hr class="d-xxl-none my-2"></li><li class="nav-item dropdown col-6 col-xxl-auto"><a class="nav-link px-0 py-2 px-xxl-1" href=# id=fontSizeDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="fas fa-fw fa-font"></i>
<span class=d-xxl-none>Tamaño de Fuente</span></a><ul class="font-size-dropdown-menu dropdown-menu dropdown-menu-end" aria-labelledby=fontSizeDropdown><li><button class="font-size-item dropdown-item" data-size=xs>
Extra Pequeño</button></li><li><button class="font-size-item dropdown-item" data-size=sm>
Pequeño</button></li><li><button class="font-size-item dropdown-item active" data-size=md>
Mediano</button></li><li><button class="font-size-item dropdown-item" data-size=lg>
Grande</button></li><li><button class="font-size-item dropdown-item" data-size=xl>
Extra Grande</button></li></ul></li><li class="nav-item dropdown col-6 col-xxl-auto"><a class="nav-link px-0 py-2 px-xxl-1" href=# id=paletteDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="fas fa-fw fa-palette"></i>
<span class=d-xxl-none>Paleta</span></a><ul class="palette-dropdown-menu dropdown-menu dropdown-menu-end px-2 row g-2" aria-labelledby=paletteDropdown><li class="col-4 my-1"><a role=button id=palette-blue aria-label=Azul class="btn btn-sm w-100 palette text-bg-blue" data-palette=blue></a></li><li class="col-4 my-1"><a role=button id=palette-blue-gray aria-label="Azul Gris" class="btn btn-sm w-100 palette text-bg-blue-gray" data-palette=blue-gray></a></li><li class="col-4 my-1"><a role=button id=palette-brown aria-label=Marrón class="btn btn-sm w-100 palette text-bg-brown" data-palette=brown></a></li><li class="col-4 my-1"><a role=button id=palette-cyan aria-label=Cian class="btn btn-sm w-100 palette text-bg-cyan" data-palette=cyan></a></li><li class="col-4 my-1"><a role=button id=palette-green aria-label=Verde class="btn btn-sm w-100 palette text-bg-green" data-palette=green></a></li><li class="col-4 my-1"><a role=button id=palette-indigo aria-label=Índigo class="btn btn-sm w-100 palette text-bg-indigo" data-palette=indigo></a></li><li class="col-4 my-1"><a role=button id=palette-orange aria-label=Naranja class="btn btn-sm w-100 palette text-bg-orange" data-palette=orange></a></li><li class="col-4 my-1"><a role=button id=palette-pink aria-label=Rosado class="btn btn-sm w-100 palette text-bg-pink" data-palette=pink></a></li><li class="col-4 my-1"><a role=button id=palette-purple aria-label=Púrpura class="btn btn-sm w-100 palette text-bg-purple" data-palette=purple></a></li><li class="col-4 my-1"><a role=button id=palette-red aria-label=Rojo class="btn btn-sm w-100 palette text-bg-red" data-palette=red></a></li><li class="col-4 my-1"><a role=button id=palette-teal aria-label="Verde Azulado" class="btn btn-sm w-100 palette text-bg-teal" data-palette=teal></a></li><li class="col-4 my-1"><a role=button id=palette-yellow aria-label=Amarillo class="btn btn-sm w-100 palette text-bg-yellow" data-palette=yellow></a></li></ul></li><li class="nav-item dropdown col-6 col-xxl-auto"><a class="nav-link px-0 py-2 px-xxl-1" href=# id=modeDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="mode-icon fas fa-fw fa-adjust" id=modeIcon></i>
<span class=d-xxl-none>Modo</span></a><ul class="mode-dropdown-menu dropdown-menu dropdown-menu-end" aria-labelledby=modeDropdown><li class=mode-item data-color-mode=light data-icon=sun><button class=dropdown-item>
<i class="mode-icon fas fa-fw fa-sun"></i> Claro</button></li><li class=mode-item data-color-mode=dark data-icon=moon><button class=dropdown-item>
<i class="mode-icon fas fa-fw fa-moon"></i> Oscuro</button></li><li class="mode-item active" data-color-mode=auto data-icon=adjust><button class=dropdown-item>
<i class="mode-icon fas fa-fw fa-adjust"></i> Auto</button></li></ul></li></ul></div></div><div class=d-flex><button class="navbar-toggler order-5 border-0" type=button data-bs-toggle=offcanvas data-bs-target=#navbarMenus aria-controls=navbarMenus aria-expanded=false aria-label="Toggle navigation">
<i class="fas fa-ellipsis-h"></i></button></div></div></nav></header><main class=container><div class="row content"><noscript><div class="alert alert-danger" role=alert>Tu navegador no soporta JavaScript.</div></noscript><aside class="docs-nav col-xxl-2" tabindex=-1 data-bs-hide=focusout><div class="offcanvas-xxl offcanvas-start" id=offcanvasDocsNav aria-labelledby=offcanvasDocsNavLabel><div class="offcanvas-header border-bottom"><div class="offcanvas-title h5" id=offcanvasDocsNavLabel>Browse docs</div><button type=button class=btn-close data-bs-dismiss=offcanvas aria-label=Close data-bs-target=#offcanvasDocsNav></button></div><div class="offcanvas-body pt-2 flex-column"><ul class="list-unstyled mb-2 w-100"><li class="mb-2 py-1 ms-3" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/es/docs/introduction/><span class="docs-nav-title-icon me-1"><i class="fas fa-fw fa-book"></i></span><span class=docs-nav-title>Introducción</span></a></li><li class=mb-2 tabindex=-1><div class="py-1 d-flex justify-content-between align-items-center ms-3 text-primary"><a class="docs-nav-link d-flex align-items-center" href=/es/docs/cpp/><span class="docs-nav-title-icon me-1"><i class="fas fa-fw fa-code"></i></span><span class=docs-nav-title>C++</span></a>
<a class="btn-toggle ms-1" role=button data-bs-toggle=collapse data-bs-target=#nav-03cf0440635e934c78203f9b4bc6de80 aria-expanded=true aria-controls=nav-03cf0440635e934c78203f9b4bc6de80><i class="btn-toggle-icon fas fa-chevron-down ms-auto" data-fa-transform=rotate-270></i></a></div><div class="docs-nav-subnavs border-start mt-2 collapse show border-primary" id=nav-03cf0440635e934c78203f9b4bc6de80><div class="btn-toggle-nav fw-normal ms-2 small"><ul class="list-unstyled mb-2 w-100"><li class="mb-2 py-1 ms-3" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/es/docs/cpp/constructors/><span class=docs-nav-title>Constructores</span></a></li><li class="mb-2 py-1 ms-3 text-primary" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/es/docs/cpp/raii/><span class=docs-nav-title>RAII</span></a></li></ul></div></div></li></ul></div></div></aside><div class="col-xxl-7 ms-auto"><div class=container-fluid><nav class="row card component" aria-label=breadcrumb><div class="card-body pb-0"><ol class="hbs-breadcrumb breadcrumb flex-nowrap"><li class="breadcrumb-item text-surface"><a href=/es/>Inicio</a></li><li class="breadcrumb-item text-surface"><a href=/es/docs/>Blog</a></li><li class="breadcrumb-item text-surface"><a href=/es/docs/cpp/>Cpp</a></li><li class="breadcrumb-item active">RAII</li></ol></div></nav><div class="post-panel-wrapper position-relative d-flex justify-content-center"><div class="d-flex flex-row justify-content-center rounded-5 border post-panel position-fixed px-3 py-1 surface shadow-1"><div class="post-translations nav-item dropup action"><a class="nav-link p-0" data-bs-toggle=dropdown href=# role=button aria-haspopup=true aria-expanded=false aria-label="Translations dropdown menu" title=Translations><i class="fas fa-fw fa-language"></i></a><div class=dropdown-menu><a class="dropdown-item post-translation" href=/docs/cpp/raii/>English</a></div></div><a class="action btn-reward" role=button data-bs-toggle=modal data-bs-target=#rewardModal title="Cómprame un café"><i class="fas fa-fw fa-coffee"></i></a>
<a class="action action-copyright" href=#post-copyright role=button aria-label=Copyright title=Copyright><i class="fas fa-fw fa-copyright"></i></a>
<a class="action action-post-comments" href=#post-comments role=button aria-label=Comments title=Comments><i class="fas fa-fw fa-comments"></i></a>
<a id=sidebarToggler class="action action-sidebar-toggler d-none d-xxl-block" role=button title="Sidebar toggler"><i class="fas fa-fw fa-expand-alt" data-fa-transform=rotate-45></i></a></div></div><article class="row card component mb-4 post"><div class=card-header><h1 class="card-title post-title my-2">RAII</h1></div><div class=card-body><div class="post-meta mb-3"><span class="post-date me-1 mb-1" title="creado en 0001-01-01 00:00:00 +0000 UTC, actualizado en 2023-08-26 23:41:40 +0000 UTC.">1 de enero de 1</span><span class="post-reading-time me-1 mb-1">2 minutos de lectura</span><a href=/es/categories/c++-programming/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-taxonomy-sm post-category">
<i class="fas fa-fw fa-folder me-1"></i>C++ Programming</a><a href=/es/series/c++/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-taxonomy-sm post-series">
<i class="fas fa-fw fa-columns me-1"></i>C++</a><a href=/es/tags/basic-knowledge/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-taxonomy-sm post-tag">Basic Knowledge</a><a href=/es/tags/c++/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-taxonomy-sm post-tag">C++</a><a href=/es/tags/computer-science/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-taxonomy-sm post-tag">Computer Science</a><a href=/es/tags/easy/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-taxonomy-sm post-tag">Easy</a></div><div class="post-content mb-3" data-bs-spy=scroll data-bs-target=#TableOfContents tabindex=0><div id=post-content-body><p>RAII del inglés "<em>Resource Acquisition Is Initialization</em>" es una técnica de C++ para manejar el ciclo de vida de recursos típicamente limitados (memoria en el heap, descriptores de archivos, hilos de ejecución, etc).</p><p>Dicha técnica consiste en reservar el recurso durante el <a href=../constructors>constructor</a> del objeto, y su liberación en el destructor. Por ejemplo, imaginemos que se desea modelar una memoria <code class=verbatim>Flash</code> de tamaño variable, para ello, una posibilidad sería la de reservar memoria del heap en su construcción, para liberarla durante su destrucción:</p><div class="src src-c++"><div class=highlight><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl>  <span class=k>struct</span> <span class=nc>FlashMemory</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>FlashMemory</span><span class=p>(</span><span class=kt>uint32_t</span> <span class=n>size</span><span class=p>)</span> <span class=p>{</span> <span class=n>memory_</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>uint8_t</span><span class=p>[</span><span class=n>size</span><span class=p>];</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>~</span><span class=n>FlashMemory</span><span class=p>()</span> <span class=p>{</span> <span class=k>delete</span><span class=p>[]</span> <span class=n>memory_</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>uint8_t</span> <span class=o>*</span><span class=n>memory_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span></span></span></code></pre></div></div><p>RAII garantiza que mientras el objeto esté instanciado, el recurso será accesible, y define un ciclo de vida del mismo acoplado al ciclo de vida del objeto que lo contiene. Esto facilita su manejo manual y libera al desarrollador que lo utilice de asignaciones manuales de memoria o del recurso.</p><p>Es conveniente que el objeto que maneje al recurso, en nuestro caso <code class=verbatim>FlashMemory</code> tenga métodos expuestos para accederlo, por ejemplo, en nuestro caso, métodos para leer/escribir la memoria.</p><div class="src src-c++"><div class=highlight><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl>  <span class=k>struct</span> <span class=nc>FlashMemory</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>FlashMemory</span><span class=p>(</span><span class=kt>uint32_t</span> <span class=n>size</span><span class=p>)</span> <span class=o>:</span> <span class=n>size_</span><span class=p>(</span><span class=n>size</span><span class=p>)</span> <span class=p>{</span> <span class=n>memory_</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>uint8_t</span><span class=p>[</span><span class=n>size</span><span class=p>];</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>~</span><span class=n>FlashMemory</span><span class=p>()</span> <span class=p>{</span> <span class=k>delete</span><span class=p>[]</span> <span class=n>memory_</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     ,* Lee un Byte de memoria, si se trata de acceder fuera de la memoria se
</span></span></span><span class=line><span class=cl><span class=cm>     ,* arroja una excepción.
</span></span></span><span class=line><span class=cl><span class=cm>     ,*/</span>
</span></span><span class=line><span class=cl>    <span class=kt>uint8_t</span> <span class=nf>ReadByte</span><span class=p>(</span><span class=kt>uint32_t</span> <span class=n>position</span><span class=p>)</span> <span class=k>const</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=n>position</span> <span class=o>&gt;=</span> <span class=n>size_</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=n>std</span><span class=o>::</span><span class=n>runtime_error</span><span class=p>(</span><span class=s>&#34;Invalid position to Read!&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=n>memory_</span><span class=p>[</span><span class=n>position</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>     ,* Escribe un Byte de memoria, si se trata de acceder fuera de la memoria se
</span></span></span><span class=line><span class=cl><span class=cm>     ,* arroja una excepción.
</span></span></span><span class=line><span class=cl><span class=cm>     ,*/</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>WriteByte</span><span class=p>(</span><span class=kt>uint32_t</span> <span class=n>position</span><span class=p>,</span> <span class=kt>uint8_t</span> <span class=n>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=n>position</span> <span class=o>&gt;=</span> <span class=n>size_</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>throw</span> <span class=n>std</span><span class=o>::</span><span class=n>runtime_error</span><span class=p>(</span><span class=s>&#34;Invalid position to Write!&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=n>memory_</span><span class=p>[</span><span class=n>position</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>uint8_t</span> <span class=o>*</span><span class=n>memory_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>uint32_t</span> <span class=n>size_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span></span></span></code></pre></div></div><p>De esta manera se puede manejar al objeto y su tiempo de vida de manera transparente para el usuario.</p><div class="src src-c++"><div class=highlight><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl>  <span class=k>static</span> <span class=k>constexpr</span> <span class=kt>uint32_t</span> <span class=n>MEMORY_SIZE</span> <span class=o>=</span> <span class=mi>256</span> <span class=o>*</span> <span class=mi>1024</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>(</span><span class=kt>int</span> <span class=n>argc</span><span class=p>,</span> <span class=kt>char</span> <span class=o>*</span><span class=n>argv</span><span class=p>[])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Esta linea reserva de manera invisible al usuario memoria en el heap.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>FlashMemory</span> <span class=n>flash</span><span class=p>(</span><span class=n>MEMORY_SIZE</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// En el byte 0x64 ponemos el valor 0x23
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>flash</span><span class=p>.</span><span class=n>WriteByte</span><span class=p>(</span><span class=mh>0x64</span><span class=p>,</span> <span class=mh>0x23</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;La posición 0x64 contiene el valor: &#34;</span>
</span></span><span class=line><span class=cl>              <span class=o>&lt;&lt;</span> <span class=k>static_cast</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>(</span><span class=n>flash</span><span class=p>.</span><span class=n>ReadByte</span><span class=p>(</span><span class=mh>0x64</span><span class=p>))</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span> <span class=c1>// En este punto el destructor de `FlashMemory` es llamado, y todos
</span></span></span><span class=line><span class=cl><span class=c1></span>              <span class=c1>// sus recursos liberados de manera automatica.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span></span></span></code></pre></div></div></div></div><div class="modal fade" id=rewardModal tabindex=-1 aria-labelledby=rewardModalLabel aria-hidden=true><div class=modal-dialog><div class="modal-content surface"><div class=modal-header><h5 class="modal-title text-surface" id=rewardModalLabel><i class="fas fa-fw fa-coffee me-1"></i>Cómprame un café</h5><a href=# data-bs-dismiss=modal class=btn-close aria-label=Close></a></div><div class=modal-body><ul class="nav nav-tabs mb-3" role=tablist><li class="nav-item text-nowrap" role=presentation><a class="nav-link active" id=reward-alipay-tab data-bs-toggle=tab href=#reward-alipay role=tab aria-controls=reward-alipay aria-selected=true><i class="fab fa-fw fa-alipay me-1"></i>Alipay</a></li><li class="nav-item text-nowrap" role=presentation><a class=nav-link id=reward-wechat-tab data-bs-toggle=tab href=#reward-wechat role=tab aria-controls=reward-wechat aria-selected=true><i class="fab fa-fw fa-weixin me-1"></i>WeChat</a></li></ul><div class=tab-content id=rewardTabContent><div class="tab-pane fade post-reward-content text-center show active" id=reward-alipay role=tabpanel aria-labelledby=reward-alipay-tab><img class="img-fluid post-reward-img" src=https://nicolasiriarte.github.io/images/reward/alipay.png loading=lazy data-viewer-invisible></div><div class="tab-pane fade post-reward-content text-center show" id=reward-wechat role=tabpanel aria-labelledby=reward-wechat-tab><img class="img-fluid post-reward-img" src=https://nicolasiriarte.github.io/images/reward/wechat.png loading=lazy data-viewer-invisible></div></div></div></div></div></div></div><div class=card-footer><div class="post-navs d-flex justify-content-evenly"><div class="post-nav post-next"><a href=/es/docs/cpp/constructors/>Constructores</a>
<i class="fas fa-fw fa-chevron-down post-next-icon ms-1" data-fa-transform=rotate-270></i></div></div></div></article><div class="post-copyright mb-3 row card component" id=post-copyright><div class=card-header><h2 class="card-title fs-4 my-2 text-surface">Derechos de Autor</h2></div><div class=card-body><a class="d-flex align-items-center flex-column" target=_blank rel="license noopener noreferrer" href=https://creativecommons.org/licenses/by-nc-nd/4.0/deed.en><span><i class="fab fa-fw fa-2x fa-creative-commons"></i><i class="fab fa-fw fa-2x fa-creative-commons-by"></i><i class="fab fa-fw fa-2x fa-creative-commons-nc"></i><i class="fab fa-fw fa-2x fa-creative-commons-nd"></i></span>
CC BY-NC-ND 4.0</a></div></div><div class="card component row post-comments" id=post-comments><div class=card-header><h2 class="card-title my-2 fs-4 text-surface">Comentarios</h2></div><div class=card-body><div class=giscus></div></div></div></div></div><aside class="sidebar d-flex docs-sidebar col-xxl-3 position-sticky order-xxl-5"><div class=container><div class=accordion><div class="accordion-item docs-repo row card component"><div class="card-header accordion-header" id=repo-header><h2 class="card-title fs-4 my-2 text-surface d-none d-lg-block">Repositorio</h2><a class="accordion-button d-lg-none mb-1 shadow-none p-0 bg-transparent" role=button data-bs-toggle=collapse href=#repo aria-expanded=true aria-controls=repo>Repositorio</a></div><div class="card-body collapse accordion-collapse accordion-body text-secondary-on-surface d-lg-block show" id=repo aria-labelledby=repo-header><ul class=list-unstyled><li class=mb-1><a href=https://github.com/NicolasIriarte/NicolasIriarte.github.io/blob/main//content/docs/Cpp/RAII/index.es.org target=_blank rel="noopener noreferrer"><i class="fas fa-fw fa-file-archive text-success"></i> Ver código fuente</a></li><li class=mb-1><a href=https://github.com/NicolasIriarte/NicolasIriarte.github.io/edit/main//content/docs/Cpp/RAII/index.es.org target=_blank rel="noopener noreferrer"><i class="fas fa-fw fa-edit text-primary"></i> Editar esta página</a></li><li class=mb-1><i class="fas fa-fw fa-code text-warning"></i> <a href=https://github.com/NicolasIriarte/NicolasIriarte.github.io/commit/e9ad2c4ae5685ba33ac2b9e4fdd45947f7c09f0c target=_blank rel="noopener noreferrer">e9ad2c4a</a></li><li class=mb-1><i class="fas fa-fw fa-history text-info"></i> 26/08/2023, 20:41:40 PM</li></ul></div></div></div></div></aside></div></main><footer class="footer mt-auto py-3 text-center container"><div class="offcanvas offcanvas-bottom h-auto" tabindex=-1 id=offcanvasActionsPanel aria-labelledby=offcanvasActionsPanelLabel><div class=offcanvas-header><div class="offcanvas-title h5" id=offcanvasActionsPanelLabel><i class="fas fa-fw fa-th-large me-1"></i>
Actiones</div><button type=button class="btn-close ms-auto" data-bs-dismiss=offcanvas data-bs-target=offcanvasActionsPanel aria-label=Close></button></div><div class="offcanvas-body mt-2"><div class="social-share mb-4 d-flex overflow-auto"><a class="btn-social-share d-flex flex-column align-items-center me-3" rel="noopener noreferrer" aria-label="Twitter Share Button" target=_blank href="https://twitter.com/intent/tweet?title=Contactar&url=https%3a%2f%2fnicolasiriarte.github.io%2fes%2fcontact%2f"><i class="fab fa-2x fa-fw fa-twitter mb-2"></i> Twitter</a>
<a class="btn-social-share d-flex flex-column align-items-center me-3" rel="noopener noreferrer" aria-label="Facebook Share Button" target=_blank href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fnicolasiriarte.github.io%2fes%2fcontact%2f"><i class="fab fa-2x fa-fw fa-facebook-f mb-2"></i> Facebook</a></div><hr class=mb-4><div class="actions d-flex overflow-auto align-items-center"><a role=button class="action action-go-back d-flex flex-column align-items-center me-3" href="javascript: window.history.back();"><span class="action-icon mb-2"><i class="fas fa-2x fa-chevron-circle-down" data-fa-transform=rotate-90></i></span> Vuelve atrás</a>
<a role=button class="action action-reload-page d-flex flex-column align-items-center me-3"><span class="action-icon mb-2"><i class="fas fa-2x fa-redo-alt"></i></span> Recarga</a>
<a role=button class="action action-copy-url d-flex flex-column align-items-center me-3"><span class="action-icon mb-2"><i class="fas fa-2x fa-link"></i></span> Copiar URL</a></div></div></div><div class="row text-center"><div class="col-12 mt-2"><p class=mb-2>Bytewise</p><p class="text-secondary mb-2"><small>TODO: A description</small></p><div class="copyright mb-2 text-secondary"><small>Copyright © 2023-2023 Nicolás Iriarte. All Rights Reserved.</small></div><div class="powered-by mb-2 text-secondary"><small>Build with ❤️ from the <a class=text-primary href=https://gohugo.io target=_blank rel="noopener noreferrer">Hugo</a>.</small></div><nav class="social-links nav justify-content-center mb-2 mt-3"><a class="nav-link social-link p-0 me-1 mb-2" href=mailto:NicolasIriarte95@gmail.com title="Correo Electrónico"><i class="fas fa-fw fa-2x fa-envelope" style=color:#0963ac></i></a>
<a class="nav-link social-link p-0 me-1 mb-2" target=_blank href=https://github.com/NicolasIriarte title=GitHub rel=me><i class="fa-fw fa-2x fab fa-github"></i></a>
<a class="nav-link social-link p-0 me-1 mb-2" target=_blank href=https://gitlab.com/NicolasIriarte title=GitLab rel=me><i class="fa-fw fa-2x fab fa-gitlab" style=color:#e24329></i></a>
<a class="nav-link social-link p-0 me-1 mb-2" target=_blank href=https://linkedin.com/in/iriarte-nicolas title=LinkedIn rel=me><i class="fa-fw fa-2x fab fa-linkedin-in" style=color:#0a66c2></i></a>
<a class="nav-link social-link p-0 me-1 mb-2" target=_blank href=https://www.paypal.com/paypalme/NicolasIriarte95 title=PayPal rel=me><i class="fa-fw fa-2x fab fa-paypal"></i></a>
<a class="nav-link social-link p-0 me-1 mb-2" target=_blank href=https://t.me/NicolasIriarte title=Telegram rel=me><i class="fa-fw fa-2x fab fa-telegram-plane" style=color:#2481cc></i></a>
<a class="nav-link social-link p-0 me-1 mb-2" target=_blank href=/es/index.xml title=RSS rel=me><i class="fas fa-fw fa-2x fa-rss" style=color:#ea6221></i></a></nav></div><div class="col-12 col-lg-8 offset-0 offset-lg-1"></div></div></footer><script data-precache src=/assets/main/bundle.min.81fe1744c8f1d26a28d8de3171db37a219ff74fad2665e190a568d714ae8e977.js integrity="sha256-gf4XRMjx0moo2N4xcds3ohn/dPrSZl4ZClaNcUro6Xc=" crossorigin=anonymous async></script><script data-precache src=/assets/icons/bundle.min.0fd7c0886956b857c87d06397627e6e263a1e26404bc17dd8c277aff91b36d05.js integrity="sha256-D9fAiGlWuFfIfQY5difm4mOh4mQEvBfdjCd6/5GzbQU=" crossorigin=anonymous defer></script>
<script data-precache src=/assets/viewer/bundle.min.0a0d0099935beee41b7a7bf4543cd55e793e5f830a571b0794ef8c3602c5823c.js integrity="sha256-Cg0AmZNb7uQbenv0VDzVXnk+X4MKVxsHlO+MNgLFgjw=" crossorigin=anonymous defer></script>
<script src=/js/sw-register.js defer></script>
<script src=https://giscus.app/client.js data-repo=NicolasIriarte/NicolasIriarte.github.io data-repo-id=R_kgDOKAJ-Bw data-category=General data-category-id=DIC_kwDOKAJ-B84CYJ3l data-mapping=pathname data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=es data-loading=lazy crossorigin=anonymous defer></script></body></html>